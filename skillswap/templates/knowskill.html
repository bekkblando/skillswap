{% extends 'base.html' %}
{% block body %}
<body style="background:#00B8D4">
<div class="row">
<div class="col s3 m3" style="text-align:center;background:#3DC461;height:100%;">Know<i class="fa fa-graduation-cap"></i>
 {% for skill in know %}
    <div>{{ skill.name }}</div>
     <div><form method="post" action="{% url 'deleteknow'  skill.id  %}">
         {% csrf_token %}
         <button onclick="Materialize.toast('Deleted {{ skill.name }}', 2000)" type='submit' class="btn waves-effect">
         Delete</button></form></div>
 {% endfor %}
</div>
<style>
input {
    color: #FFFFFF;
}
label {
    color: #FFFFFF;
}
select {
    display:inline-block;
}
</style>
<div class="col s6 m6">
<form method="POST" class="center-align">{% csrf_token %}
<div id="skills" class="center-align">
  <input class="typeahead" type="text" placeholder="Skills" name="name" required>
</div>

    <p>
    <input id="know" type="radio"  required name="skill" value="know"/>
        <label for="know">A Skill You Know</label>
    <input id='learn' type="radio" name="skill" value="learn"  />
        <label for="learn" style="float:right">A Skill You Want To Learn</label>
    </p>
    <input type="text" name="description" value="description"/>
<div id="rankinput" style="display:none;">
<div style="color:white">Rank Yourself</div>
    <select name="rank">
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4</option>
        <option>5</option>
        <option>6</option>
        <option>7</option>
        <option>8</option>
        <option>9</option>
        <option>10</option>
    </select></div><div>
     <button id="addbutton" class="btn waves-effect waves-light" type="submit" name="action">Add
    <i class="fa fa-plus"></i>
  </button></div>
    </form>
</div>


 <div class="col s3 m3" style="text-align:center;background:#34F7D6;height:100%;">Learn<i class="fa fa-cogs"></i>
     {% for skill in learn %}
        <div>{{ skill.name }}</div><div><form method="post" action="{% url 'deletelearn'  skill.id  %}">
         {% csrf_token %}
         <button onclick="Materialize.toast('Deleted {{ skill.name }}', 2000)" type='submit' class="btn waves-effect">
         Delete</button></form></div>
     {% endfor %}
 </div>


<script>
$(document).ready(function(){
    $(function () {
$('input:radio').change(
    function(){
        if ($('#know').is(':checked')){
            $('#rankinput').css({display:'inline-block'});
            $('#addbutton').html('Know <i class="fa fa-graduation-cap"></i>');
            $('#addbutton').css({background: '#3DC461'})


        }
        else{
           $('#rankinput').css({display:'none'});
           $('#addbutton').html('Learn <i class="fa fa-cogs"></i>')
           $('#addbutton').css({background: '#34F7D6'})

        }
    }
);

    });
});






var skills = new Bloodhound({
  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
  queryTokenizer: Bloodhound.tokenizers.whitespace,
  prefetch: '/skill_lookup/',
  remote: {
    url: '/skill_lookup/?search=%QUERY',
    wildcard: '%QUERY'
  }
});

$('#skills .typeahead').typeahead(null, {
  name: 'skills',
  display: 'name',
  source: skills
});
 </script>

</body>
{% endblock %}
</html>